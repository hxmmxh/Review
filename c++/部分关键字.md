

## extern

- extern可以置于变量或函数前，以标识变量或者函数的定义在别的文件中，提示编译器遇到此变量和函数时在其他模块中寻找定义
  - 如果函数的声明中带有关键字extern，仅仅是暗示这个函数可能在别的源文件里定义，没有其它作用
  - 声明全局函数默认前面带有extern
  - extern用在变量声明中常有这样的作：在*.c文件中声明了一个全局的变量，这个全局的变量如果要被引用，就要放在*.h中并用extern来声明
  - 如果在头文件中定义了一个变量，并且被不同的*.cpp文件包含，这样在编译连接这些模块时会出现连接错误，因为不同的cpp重复定义了这个变量(在.h文件里定义变量，如果这个.h文件被多个.c文件包含则会报重复定义的错误)。所以最好的操作还是**只在头文件中做声明,不建议在.h文件里定义变量**
- 当extern与C一起连用时，如: `extern "C" void fun(int a, int b)`则告诉编译器在编译fun这个函数名时按着C的规则去翻译相应的函数名而不是C++的，C++的规则在翻译这个函数名时会把fun这个名字变得面目全非

### extern和include的区别

- include相当于把include .h文件直接带入到本源文件里，比如在b.c文件里include "a.h"，就相当于把a.h文件里所有定义的变量和函数全部拷贝了一份放入了b.c里，一个项目里，一个.h文件可能会被多个.c源文件包含，这样编译的时候就会报重复定义的错误。而且尽量不要在.h里定义变量，这是一个不好的习惯
- 例如在a.h里定义一个变量，a.c和b.c都包含这个.h文件，编译的时候就会报错
- 在a.h中extern声明变量，a.c和b.c都包含这个.h文件，但是在a.c中定义变量，在b.c中使用变量，这样是没问题的



## static

- static 表示静态的变量，分配内存的时候, 存储在静态区,不存储在栈上面.
- static 表示静态的变量，限制此变量作用域在一个源文件内，其他文件不能用extern来引用此变量，不仅适用于变量，函数也可以

- https://blog.csdn.net/qq_39503189/article/details/82939378
- https://blog.csdn.net/qq_27664167/article/details/82859852?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control
