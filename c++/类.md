

## 空结构体，空数组问题
- https://blog.csdn.net/hmdong7/article/details/78944674

### sizeof 
- 对于C++这种强类型的语言，在某一时刻，对象的类型的大小是确定的，这个信息在编译的时候直接可以确定
- sizeof并不是一个函数，而是一个返回对象类型大小的宏,在编译结束后，sizeof的那个位置上面是直接被替换成一个常数的
- sizeof(i++);这样一句话，i是不可能加1的，因为这句话在编译的时候就已经被转换成的对应的常数，而编译的时候是不会进行运行的

### 空类的大小
- 一个空类（后者是空类对象）使用sizeof的时候，结果是1
- 自动的给空类插入一个char类型（只一个特殊对待），只要这个类对象将来占空间，那么就可以通过地址来区分他们

### 空类的作用
- 在“泛型编程”中，空类（结构）的用处非常广
- 利用类型（通常是空类）来区别对待不同类对象的属性,使用函数重载的方法，在参数中加入一个空类域作为区分不同的函数的方法，编译的时候直接选择，而不是在运行的时候选择，这是非常提高效率的
- 在STL中，使用空类区分不同类型的标志，从而在编译的时候来对不同的类进行有针对性的优化是非常常见的。
- 下面的例子中fun会根据A是int还是float调用不同的底层函数
```cpp
template <typename A>
void fun(A a)
{
   typedef typename trait<A>::type T;
   _fun(A a, *(new T()));
}  
template <typename A>
void _fun(A a, int)
{
   ……
}
template <typename A>
void _fun(A b, float)
{
   ……
}
```

### 空数组

- sizeof一个空数组得到0
- 空数组名是一个指针，（但是又不占空间）指向一个位置：
- 对于结构体中，空数组名这个指针指向了前面一个成员结束的第一个空间。
- 对于非结构体中，空数组名这个指针指向的内容，与前一个对象的指针的内容一样（虽然可能他们的类型不一样）